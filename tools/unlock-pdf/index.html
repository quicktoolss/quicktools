<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Unlock PDF ‚Äî QuickTools</title>
  <link rel="stylesheet" href="style.css" />
  <!-- pdf.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <!-- pdf-lib -->
  <script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>
</head>
<body>
  <div class="page">
    <header class="topbar">
      <a class="back" href="../../index.html">‚Üê Back to QuickTools</a>
      <h1>üîì Unlock PDF (Browser)</h1>
      <p class="lead">Open a passworded PDF (enter password), pick pages, and create a new unprotected PDF ‚Äî all in your browser.</p>
    </header>

    <main class="card">
      <section id="uploader" class="uploader">
        <input id="fileInput" type="file" accept="application/pdf" />
        <div id="dropZone" class="dropzone">
          <div class="dz-inner">
            <strong>Drag & drop</strong> or <button id="pickBtn" class="link-btn">choose a PDF</button>
            <div class="muted">Your file never leaves your browser.</div>
          </div>
        </div>
      </section>

      <section id="passwordSection" class="panel hidden">
        <label>Enter password to open file</label>
        <div class="row">
          <input id="pwdInput" type="password" placeholder="PDF password" />
          <button id="openBtn" class="primary">Open PDF</button>
        </div>
        <div id="openStatus" class="muted"></div>
      </section>

      <section id="pagesSection" class="panel hidden">
        <div class="panel-header">
          <div><strong id="docName">‚Äî</strong> <span id="pageCount" class="muted"></span></div>
          <div class="controls-inline">
            <button id="selectAllBtn" class="small">Select all</button>
            <button id="invertBtn" class="small">Invert</button>
            <button id="clearBtn" class="small">Clear</button>
          </div>
        </div>

        <div id="thumbs" class="thumb-grid" aria-live="polite"></div>

        <div class="settings-row">
          <label>Render scale (page DPI): <input id="scaleRange" type="range" min="1" max="3" step="0.25" value="1.5" /> <span id="scaleVal">1.5x</span></label>
          <label>JPEG quality: <input id="qualityRange" type="range" min="50" max="95" step="5" value="85" /> <span id="qualityVal">85%</span></label>
        </div>

        <div class="row" style="margin-top:12px;">
          <button id="createBtn" class="primary">Create Unlocked PDF</button>
          <button id="cancelBtn" class="danger hidden">Cancel</button>
        </div>

        <div class="progress-wrap hidden" id="progressWrap">
          <div class="progress-label" id="statusLabel">Preparing‚Ä¶</div>
          <div class="progress">
            <div id="progressBar"></div>
          </div>
        </div>

        <div id="resultArea" class="hidden">
          <a id="downloadLink" class="download-btn" href="#" download>‚¨áÔ∏è Download unlocked PDF</a>
          <p class="muted note">Note: output pages are images ‚Äî text/search and form fields are not preserved.</p>
        </div>
      </section>
    </main>

    <footer class="foot">¬© 2025 QuickTools ‚Äî Processing happens in your browser.</footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
